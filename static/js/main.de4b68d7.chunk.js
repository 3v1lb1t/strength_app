(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(2),l=a.n(r);a(12);const c=(e,t)=>{return[...e].sort(()=>.5-Math.random()).slice(0,t)},s=["squat","bench","deadlift","press"],i=["clean","snatch"],m=(()=>{const e=[{percents:[.75,.77,.84,.87,.8,.75],reps:["1x7","1x5","1x3","1x3","1x5","1x7"]},{percents:[.77,.8,.86,.9,.82,.77],reps:["1x7","1x5","1x3","1x2","1x4","1x6"]}],t=[{percent:.7,reps:"3x6"},{percent:.75,reps:"3x5"},{percent:.8,reps:"3x4"},{percent:.82,reps:"2x3"},{percent:.85,reps:"2x2"},{percent:.9,reps:"3x2"},{percent:.95,reps:"3x2"}],a=new Set,n=[];for(let r=0;r<9;r++){var o;if(8===r){n.push({week:9,type:"test",percent:1,reps:"1x1"});continue}if(7===r){n.push({week:8,type:"deload",percent:.6,reps:"3x5"});continue}if(r>4&&Math.random()<.4&&"wave"!==(null===(o=n[r-1])||void 0===o?void 0:o.type)){const t=s.filter(e=>!a.has(e));if(t.length>0){const o=e[Math.floor(Math.random()*e.length)],l=c(t,1)[0];a.add(l),n.push({week:r+1,type:"wave",assignedLift:l,...o});continue}}const l=t[Math.min(r,t.length-1)];n.push({week:r+1,type:"base",...l})}return n})(),u=e=>{let{accessory:t}=e;const[a,r]=Object(n.useState)(!1);return o.a.createElement("li",null,o.a.createElement("strong",null,t.name," \u2013 ",t.description),o.a.createElement("button",{type:"button",onClick:()=>r(e=>!e),style:{marginLeft:"0.5rem"}},a?"Hide":"Show"," Instructions"),a&&o.a.createElement("div",{style:{marginTop:"0.25rem"}},o.a.createElement("p",null,t.instructions),t.video&&o.a.createElement("a",{href:t.video,target:"_blank",rel:"noopener noreferrer"},"Watch Demo")))};var p=()=>{Object(n.useEffect)(()=>{const e=new Date,t=localStorage.getItem("lastResetDate"),a=e.getFullYear()+"-W"+String(Math.floor((e.getDate()-e.getDay())/7+1)).padStart(2,"0");if(t!==a){for(let e=0;e<7;e++)localStorage.removeItem(`mainLift_${e}`),localStorage.removeItem(`olyLift_${e}`),localStorage.removeItem(`accessoryWork_${e}`);localStorage.removeItem("weekLiftsGenerated"),localStorage.removeItem("weekAccessoriesGenerated"),localStorage.removeItem("weekFocusGenerated"),localStorage.setItem("lastResetDate",a)}if(!localStorage.getItem("weekLiftsGenerated")){const e=(e,t)=>{const a=[];let n="";for(let o=0;o<t;o++){const t=e.filter(e=>e!==n),o=c(t,1)[0];a.push(o),n=o}return a},t=e(s,7),a=e(i,7);for(let n=0;n<7;n++)localStorage.setItem(`mainLift_${n}`,t[n]),localStorage.setItem(`olyLift_${n}`,a[n]);localStorage.setItem("weekLiftsGenerated","true")}},[]);const[e,t]=Object(n.useState)([]);Object(n.useEffect)(()=>{fetch("./data/accessories.json").then(e=>e.json()).then(e=>t(e)).catch(e=>console.error("Failed to load accessory data:",e))},[]),Object(n.useEffect)(()=>{if(e.length>=21&&!localStorage.getItem("weekAccessoriesGenerated")){const t={};let a=[];for(let n=0;n<7;n++){const o=e.filter(e=>!a.includes(e.name)),r=c(o.length>=3?o:e,3);t[n]=r,localStorage.setItem(`accessoryWork_${n}`,JSON.stringify(r)),a=r.map(e=>e.name)}localStorage.setItem("weekAccessoriesGenerated","true")}},[e]),Object(n.useEffect)(()=>{if(!localStorage.getItem("weekFocusGenerated")){const e=(e,t)=>{const a=[];let n="";for(let o=0;o<t;o++){const t=e.filter(e=>e!==n),o=c(t,1)[0];a.push(o),n=o}return a},t=e(s,7),a=e(i,7);for(let n=0;n<7;n++)localStorage.setItem(`mainLift_${n}`,t[n]),localStorage.setItem(`olyLift_${n}`,a[n]);localStorage.setItem("weekFocusGenerated","true")}},[]);localStorage.getItem("mainFocusWeek"),localStorage.getItem("olympicFocusWeek");const a=localStorage.getItem("trainingWeek"),[r,l]=Object(n.useState)(""),[p,g]=Object(n.useState)(""),[d,f]=Object(n.useState)(()=>a?parseInt(a):0),[h,S]=Object(n.useState)(()=>{const e=localStorage.getItem("completedDays");return e?JSON.parse(e):Array(7).fill(!1)}),[y,v]=Object(n.useState)(()=>{const e=localStorage.getItem("currentDay");return e?parseInt(e):0});Object(n.useEffect)(()=>{const e=localStorage.getItem(`mainLift_${y}`)||s[0],t=localStorage.getItem(`olyLift_${y}`)||i[0];l(e),g(t)},[y]);const E=localStorage.getItem("oneRepMax"),[b,k]=Object(n.useState)(E?JSON.parse(E):{squat:0,bench:0,deadlift:0,press:0,clean:0,snatch:0});Object(n.useEffect)(()=>{fetch("./data/accessories.json").then(e=>e.json()).then(e=>t(e)).catch(e=>console.error("Failed to load accessory data:",e))},[]);const[w,I]=Object(n.useState)(null),[x,O]=Object(n.useState)(!1),[j,N]=Object(n.useState)(!1),[M,$]=Object(n.useState)(()=>!localStorage.getItem("disclaimerAccepted")),[L,D]=Object(n.useState)([]);Object(n.useEffect)(()=>{if(e.length>0){const e=localStorage.getItem(`accessoryWork_${y}`);e&&D(JSON.parse(e))}},[e,y]);const W=`${r.charAt(0).toUpperCase()+r.slice(1)} Focus`,A=m[d%m.length],_=(e,t)=>`${Math.round(b[t]*e)} lbs @ ${Math.round(100*e)}%`,C=(e,t)=>{if("test"===A.type)return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,e," \u2013 Test 1RM"),o.a.createElement("input",{type:"number",placeholder:"Enter your tested 1RM",onChange:e=>{const a={...b,[t]:parseInt(e.target.value)||0};k(a),localStorage.setItem("oneRepMax",JSON.stringify(a))},value:b[t]||""}));if("number"!==typeof A.percent||"string"!==typeof A.reps)return null;const a=A.percent-.05;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,e," \u2013 ",A.reps," @ ",Math.round(100*A.percent),"%"),o.a.createElement("p",null,"Top Set: ",_(A.percent,t)),o.a.createElement("p",null,"Backoff Sets: 2x",A.reps.split("x")[1]," @ ",_(a,t)))};return o.a.createElement(o.a.Fragment,null,j&&o.a.createElement("div",{className:"ios-tooltip"},o.a.createElement("strong",null,"Install on iOS:"),o.a.createElement("p",{style:{margin:0}},"Tap the Share icon ",o.a.createElement("span",{style:{fontSize:"1.2em"}},"\ud83d\udce4")," and select ",o.a.createElement("strong",null,'"Add to Home Screen"'),"."),o.a.createElement("button",{onClick:()=>N(!1),style:{marginTop:"0.5rem"}},"Close")),M&&o.a.createElement("div",{className:"modal-overlay"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("h2",null,"Disclaimer"),o.a.createElement("p",null,"This app is not intended for beginners. Use at your own risk. Always consult a qualified coach or physician before beginning any training program. The developer assumes no responsibility for injury or harm resulting from use of this app."),o.a.createElement("button",{onClick:()=>{localStorage.setItem("disclaimerAccepted","true"),$(!1)}},"I Acknowledge"))),!M&&o.a.createElement("div",{className:"app-container"},o.a.createElement("div",{className:"calendar-view"},o.a.createElement("h3",null,"This Week"),o.a.createElement("div",{className:"calendar-row"},[...Array(7)].map((e,t)=>{const a=new Date,n=new Date(a);n.setDate(a.getDate()-a.getDay()+t);const r=n.toLocaleDateString(void 0,{weekday:"short"}),l=n.toLocaleDateString(void 0,{month:"short",day:"numeric"});return o.a.createElement("div",{key:t,className:`calendar-day-square ${h[t]?"completed":""}`,onClick:()=>v(t)},o.a.createElement("div",null,r),o.a.createElement("div",null,l))}))),o.a.createElement("h1",{className:"app-title"},"Strength App: Day ",y+1," \u2013 ",W),o.a.createElement("div",{className:"form-wrapper"},o.a.createElement("form",{className:"form"},o.a.createElement("h2",null,"Enter Your 1 Rep Max"),o.a.createElement("button",{type:"button",className:"reset-button",onClick:()=>{const e={squat:0,bench:0,deadlift:0,press:0,clean:0,snatch:0};k(e),localStorage.setItem("oneRepMax",JSON.stringify(e))}},"Reset 1RMs"),Object.keys(b).map(e=>o.a.createElement("div",{className:"form-group",key:e},o.a.createElement("label",{htmlFor:e},e.charAt(0).toUpperCase()+e.slice(1)," 1RM"),o.a.createElement("input",{id:e,type:"number",className:"small-input",onChange:e=>{const{id:t,value:a}=e.target,n={...b,[t]:parseInt(a)||0};k(n),localStorage.setItem("oneRepMax",JSON.stringify(n))},value:b[e],placeholder:`e.g., ${"snatch"===e?155:225}`}))),o.a.createElement("h2",null,"Main Movement"),C(r,r),o.a.createElement("h2",null,"Olympic Movement"),C(p,p),o.a.createElement("h2",null,"Accessory Work"),o.a.createElement("ul",null,L.map((e,t)=>o.a.createElement(u,{key:t,accessory:e}))),o.a.createElement("button",{type:"button",className:"submit-button",onClick:()=>{S(e=>{const t=[...e];return t[y]=!0,t}),v(e=>{const t=e+1,a=Math.floor(t/7);f(a);const n=localStorage.getItem(`mainLift_${e}`),o=localStorage.getItem(`olyLift_${e}`),r=s.filter(e=>e!==n),m=i.filter(e=>e!==o),u=c(r,1)[0],p=c(m,1)[0];return l(u),g(p),localStorage.setItem(`mainLift_${t}`,u),localStorage.setItem(`olyLift_${t}`,p),localStorage.setItem("mainFocusWeek",u),localStorage.setItem("olympicFocusWeek",p),localStorage.setItem("trainingWeek",a.toString()),localStorage.setItem("currentDay",t.toString()),t})}},"Complete Day"))),x&&o.a.createElement("button",{onClick:()=>{w?(w.prompt(),w.userChoice.then(()=>{I(null),O(!1)})):N(!0)},style:{position:"fixed",bottom:20,right:20}},"Install App")))};a(13);const g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function d(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=(()=>{const a=e.installing;a&&(a.onstatechange=(()=>{var n,o;"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available; it will be used once all tabs are closed."),null===t||void 0===t||null===(n=t.onUpdate)||void 0===n||n.call(t,e)):(console.log("Content is cached for offline use."),null===t||void 0===t||null===(o=t.onSuccess)||void 0===o||o.call(t,e)))}))})}).catch(e=>{console.error("Error during service worker registration:",e)})}var f;l.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(p,null))),"serviceWorker"in navigator&&window.addEventListener("load",()=>{const e=`${window.location.origin}/service-worker.js`;g?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(a=>{const n=a.headers.get("content-type");404===a.status||null!=n&&!n.includes("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):d(e,t)}).catch(()=>{console.log("No internet connection. App is running in offline mode.")})}(e,f),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first.")})):d(e,f)})},3:function(e,t,a){e.exports=a(14)}},[[3,1,2]]]);
//# sourceMappingURL=main.de4b68d7.chunk.js.map